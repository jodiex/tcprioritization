<?xml version="1.0" encoding="UTF-8"?>
<testsuite name="MO-3128" tests="1" skipped="0" failures="0" errors="0" timestamp="2019-07-19T17:02:36" hostname="mo-acceptance-test-driver-182622c" time="32.512">
  <properties/>
  <testcase name="Scenario: Verify that an assignment question beyond the first position can be regraded " classname="MO-3128" time="32.512"/>
  <system-out><![CDATA[
  Scenario: Verify that prompt appears when attempting to leave page with regrading in progress                                        ?[90m# gradebook/ManageRegrading.feature:1047?[0m
    ?[32mWhen ?[0m?[32mI launch random "?[0m?[32m?[1mbasic-lti-launch-request?[0m?[32m" LTI request with role "?[0m?[32m?[1mInstructor?[0m?[32m" and outcome URL "?[0m?[32m?[1m?[0m?[32m" and document target "?[0m?[32m?[1mwindow?[0m?[32m"?[0m ?[90m# TestHarnessSteps.runLtiRequest(String,String,String,String)?[0m
    ?[32mThen ?[0m?[32mI am on the LTI Mapping Page?[0m                                                                                                  ?[90m# LTIMappingSteps.assertLtiMappingPage()?[0m
    ?[32mWhen ?[0m?[32mI click the 'New Class' mapping button?[0m                                                                                        ?[90m# LTIMappingSteps.clickNewClassButton()?[0m
    ?[32mThen ?[0m?[32mI am on a New Class page?[0m                                                                                                      ?[90m# AddMapleTAClassSteps.verifyNewClassPage()?[0m
    ?[32mWhen ?[0m?[32mI create new class with random name?[0m                                                                                           ?[90m# AddMapleTAClassSteps.createNewClassWithRandomName()?[0m
    ?[32mThen ?[0m?[32mI am on the LTI Mapping Page?[0m                                                                                                  ?[90m# LTIMappingSteps.assertLtiMappingPage()?[0m
    ?[32mWhen ?[0m?[32mI click the 'Class Homepage' mapping button?[0m                                                                                   ?[90m# LTIMappingSteps.clickClassHomepageButton()?[0m
    ?[32mThen ?[0m?[32mI am on the Class Homepage?[0m                                                                                                    ?[90m# ClassHomepageSteps.assertClassHomepage()?[0m
    # Create an assignment for the students to take
    ?[32mWhen ?[0m?[32mI navigate to the "?[0m?[32m?[1mContent Repository?[0m?[32m" of current class?[0m                                                                       ?[90m# ClassHomepageSteps.navigateInClass(String,String)?[0m
    ?[32mAnd ?[0m?[32mI choose creating new question/Text from the main dropdown button?[0m                                                              ?[90m# ContentRepositorySteps.chooseCreatingNewQuestionFromMainDropdownButton()?[0m
    ?[32mAnd ?[0m?[32mQuestion Designer is opened?[0m                                                                                                    ?[90m# QuestionDesignerSteps.assertQuestionDesignerPageIsOpened()?[0m
    ?[32mWhen ?[0m?[32mI enter valid information for the question name as "?[0m?[32m?[1mRegrading test question?[0m?[32m"?[0m                                                  ?[90m# QuestionDesignerSteps.enterQuestionName(String)?[0m
    ?[32mAnd ?[0m?[32mI click inside the question text editor?[0m                                                                                        ?[90m# QuestionDesignerSteps.clickInsideQuestionTextEditor()?[0m
    ?[32mAnd ?[0m?[32mI click Response Area button to open the dialog and assert that the Choose Question Type page is visible?[0m                       ?[90m# QuestionDesignerSteps.clickInsertResponseAreaButton()?[0m
    ?[32mWhen ?[0m?[32mI choose "?[0m?[32m?[1mMaple-graded?[0m?[32m" link from the dialog?[0m                                                                                  ?[90m# QuestionDesignerSteps.chooseQuestionType(String)?[0m
    ?[32mAnd ?[0m?[32mI change the Maple Graded answer to "?[0m?[32m?[1mx?[0m?[32m"?[0m                                                                                        ?[90m# MapleGradedQuestionSteps.setCorrectAnswer(String)?[0m
    ?[32mAnd ?[0m?[32mI set the Maple grading code to "?[0m?[32m?[1mwith(Threads): Sleep(3); evalb(($ANSWER)-($RESPONSE)=0);?[0m?[32m"?[0m                                     ?[90m# MapleGradedQuestionSteps.setGradingCode(String)?[0m
    ?[32mAnd ?[0m?[32mI click OK?[0m                                                                                                                     ?[90m# QuestionDesignerSteps.clickResponseDialogOkButton()?[0m
    ?[32mThen ?[0m?[32mI see the "?[0m?[32m?[1mMaple?[0m?[32m" Question Widget in the question text section?[0m                                                                ?[90m# QuestionDesignerSteps.assertQuestionWidgetIsInserted(String)?[0m
    ?[32mAnd ?[0m?[32mI click the question designer Save & Close button?[0m                                                                              ?[90m# QuestionDesignerSteps.clickSaveAndCloseButton()?[0m
    ?[32mWhen ?[0m?[32mI choose creating new assignment in "?[0m?[32m?[1mDefault Unit?[0m?[32m" unit from the main dropdown button?[0m                                         ?[90m# ContentRepositorySteps.chooseCreatingNewAssignmentFromMainDropdownButton(String)?[0m
    ?[32mThen ?[0m?[32mAssignment Editor is opened?[0m                                                                                                   ?[90m# AssignmentEditorDetailsSteps.assertAssignmentEditorPageIsOpened()?[0m
    ?[32mWhen ?[0m?[32menter Assignment name "?[0m?[32m?[1mRegrading test?[0m?[32m"?[0m                                                                                        ?[90m# AssignmentEditorDetailsSteps.enterAssignmentName(String)?[0m
    ?[32mAnd ?[0m?[32mI click on the questions tab?[0m                                                                                                   ?[90m# AssignmentEditorDetailsSteps.clickQuestionsTab()?[0m
    ?[32mAnd ?[0m?[32mI click the import question button?[0m                                                                                             ?[90m# AssignmentEditorQuestionSteps.importQuestion()?[0m
    ?[32mThen ?[0m?[32mThe import questions dialog appears?[0m                                                                                           ?[90m# AssignmentEditorQuestionSteps.assertImportQuestionsVisible()?[0m
    ?[32mWhen ?[0m?[32mI click on "Questions"?[0m                                                                                                        ?[90m# ContentRepositorySteps.clickOnQuestions()?[0m
    ?[32mAnd ?[0m?[32mI select the question "?[0m?[32m?[1mRegrading test question?[0m?[32m"?[0m                                                                                ?[90m# AssignmentEditorQuestionSteps.selectQuestion(String)?[0m
    ?[32mAnd ?[0m?[32mI click Import Questions in the Import Questions dialog?[0m                                                                        ?[90m# AssignmentEditorQuestionSteps.doImportQuestions()?[0m
    ?[32mThen ?[0m?[32mverify the question caption text is "?[0m?[32m?[1mRegrading test question?[0m?[32m"?[0m                                                                 ?[90m# AssignmentEditorQuestionSteps.assertSavedQuestionName(String)?[0m
    ?[32mWhen ?[0m?[32mI save & close the assignment on the questions page?[0m                                                                           ?[90m# AssignmentEditorQuestionSteps.saveAndCloseAssignment()?[0m
    ?[32mThen ?[0m?[32mI see summary of the assignment?[0m                                                                                               ?[90m# AssignmentEditorDetailsSteps.assertAssignmentSummaryShown()?[0m
    ?[32mWhen ?[0m?[32mI save and close the assignment summary details?[0m                                                                               ?[90m# AssignmentEditorDetailsSteps.saveAndCloseAssignmentSummary()?[0m
    ?[32mThen ?[0m?[32mI am on the Class Homepage?[0m                                                                                                    ?[90m# ClassHomepageSteps.assertClassHomepage()?[0m
    # Take the assignment:
    ?[32mWhen ?[0m?[32mI start the "?[0m?[32m?[1mRegrading test?[0m?[32m" assignment in "?[0m?[32m?[1mDefault Unit?[0m?[32m" unit?[0m                                                                ?[90m# ClassHomepageSteps.openAssignment(String,String)?[0m
    ?[32mAnd ?[0m?[32mI enter "?[0m?[32m?[1m5?[0m?[32m" in Mathematical Formula input?[0m                                                                                      ?[90m# MathmeticalFormulaElementSteps.enterMathFormulaInput(String)?[0m
    ?[32mAnd ?[0m?[32mI submit the assignment?[0m                                                                                                        ?[90m# MapleTAAssignmentSteps.submitAssignment()?[0m
    ?[32mThen ?[0m?[32mmy score ?[0m?[32m?[1m0?[0m?[32m out of ?[0m?[32m?[1m1?[0m?[32m (?[0m?[32m?[1m0?[0m?[32m %) is shown in a grade report?[0m                                                                          ?[90m# MapleTAAssignmentSteps.assertScore(String,String,String)?[0m
    ?[32mAnd ?[0m?[32mquit and save the assignment?[0m                                                                                                   ?[90m# MapleTAAssignmentSteps.quitAndSaveAssignment()?[0m
    # Load assignment in gradebook:
    ?[32mWhen ?[0m?[32mI am on the Class Homepage?[0m                                                                                                    ?[90m# ClassHomepageSteps.assertClassHomepage()?[0m
    ?[32mThen ?[0m?[32mI navigate to the "?[0m?[32m?[1mClass Grades?[0m?[32m" in "?[0m?[32m?[1mGradebook?[0m?[32m" of current class?[0m                                                              ?[90m# ClassHomepageSteps.navigateInClass(String,String)?[0m
    ?[32mWhen ?[0m?[32mI am on the Class Grades page?[0m                                                                                                 ?[90m# GradebookClassGradesSteps.waitForClassGradesPage()?[0m
    ?[32mThen ?[0m?[32mI select "?[0m?[32m?[1mRegrading test - Homework/Quiz?[0m?[32m" in "Assignments" selection list?[0m                                                     ?[90m# GradebookClassGradesSteps.selectAssignment(String)?[0m
    ?[32mAnd ?[0m?[32mI select "?[0m?[32m?[1mOther users with grades?[0m?[32m" in "List" selection list?[0m                                                                    ?[90m# GradebookClassGradesSteps.selectUser(String)?[0m
    ?[32mAnd ?[0m?[32mI select "?[0m?[32m?[1mMost Recent?[0m?[32m" in "Results" selection list?[0m                                                                             ?[90m# GradebookClassGradesSteps.selectResult(String)?[0m
    ?[32mAnd ?[0m?[32mI select "?[0m?[32m?[1mCompleted?[0m?[32m" in "Progress" selection list?[0m                                                                              ?[90m# GradebookClassGradesSteps.selectProgress(String)?[0m
    ?[32mThen ?[0m?[32mI click the Search button?[0m                                                                                                     ?[90m# GradebookClassGradesSteps.clickSearch()?[0m
    # Navigate to the details of a question:
    ?[32mWhen ?[0m?[32mI click "?[0m?[32m?[1mRegrading test?[0m?[32m" in the Class Grades table?[0m                                                                            ?[90m# GradebookClassGradesSteps.clickAssignmentHeaderInTable(String)?[0m
    ?[32mAnd ?[0m?[32mI click "?[0m?[32m?[1mQ1?[0m?[32m" for the selected assignment?[0m                                                                                       ?[90m# GradebookClassGradesSteps.clickQuestionInTable(String)?[0m
    # Access the Regrading page:
    ?[32mThen ?[0m?[32mI see the grade details of question "?[0m?[32m?[1mRegrading test question?[0m?[32m"?[0m                                                                 ?[90m# GradebookDetailsSteps.assertQuestionTitleVisible(String)?[0m
    ?[32mThen ?[0m?[32mI click the Regrade Question button?[0m                                                                                           ?[90m# GradebookDetailsSteps.clickRegradeQuestionButton()?[0m
    ?[32mThen ?[0m?[32mI am on the Regrading page?[0m                                                                                                    ?[90m# GradebookRegradingSteps.waitForRegradingPage()?[0m
    ?[32mAnd ?[0m?[32mI verify the timestamps are in the correct format?[0m                                                                              ?[90m# GradebookRegradingSteps.assertTimestampFormat()?[0m
    ?[32mAnd ?[0m?[32mI see the regrading in progress spinner?[0m                                                                                        ?[90m# GradebookRegradingSteps.assertSpinnerIsVisible()?[0m
    # Leaving should trigger an alert since return later was not clicked
    ?[32mWhen ?[0m?[32mI navigate to the "?[0m?[32m?[1mClass Grades?[0m?[32m" in "?[0m?[32m?[1mGradebook?[0m?[32m" of current class?[0m                                                              ?[90m# ClassHomepageSteps.navigateInClass(String,String)?[0m
    ?[32mThen ?[0m?[32mI dismiss the page leaving alert?[0m                                                                                              ?[90m# GradebookRegradingSteps.dismissAlert()?[0m
    # Verify no alert is displayed when return later is clicked
    ?[32mWhen ?[0m?[32mI click the Return Later button?[0m                                                                                               ?[90m# GradebookRegradingSteps.clickReturnLater()?[0m
    ?[32mThen ?[0m?[32mI see the grade details of question "?[0m?[32m?[1mRegrading test question?[0m?[32m"?[0m                                                                 ?[90m# GradebookDetailsSteps.assertQuestionTitleVisible(String)?[0m
]]></system-out>
  <system-err><![CDATA[]]></system-err>
</testsuite>
